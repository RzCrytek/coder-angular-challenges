<div class="container">
  <div class="py-5 text-center">
    <h2>Registro de Usuarios</h2>
    <p class="lead">
      Lorem Ipsum is simply dummy text of the printing and typesetting industry.
      Lorem Ipsum has been the industry's standard dummy text ever since the
      1500s, when an unknown printer took a galley of type and scrambled it to
      make a type specimen book.
    </p>
  </div>

  <div class="row">
    <div class="col-md-7 col-lg-8 mx-auto">
      <form class="needs-validation" [formGroup]="user">
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">Nombre</label>
            <input class="form-control" type="text" formControlName="name" />
            <div
              class="form-text text-danger"
              *ngIf="
                user.get('name')?.errors?.required && user.get('name')?.touched
              "
            >
              Nombre es requerido.
            </div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Apellido</label>
            <input
              id="lastName"
              class="form-control"
              type="text"
              formControlName="last_name"
            />
            <div
              class="form-text text-danger"
              *ngIf="
                user.get('last_name')?.errors?.required &&
                user.get('last_name')?.touched
              "
            >
              Apellido es requerido
            </div>
          </div>

          <div class="col-12">
            <label for="username" class="form-label">Username</label>
            <div class="input-group has-validation">
              <span class="input-group-text">@</span>
              <input
                id="username"
                class="form-control"
                type="text"
                formControlName="username"
                placeholder="Username"
              />
            </div>
            <div
              class="form-text text-danger"
              *ngIf="
                (user.get('username')?.errors?.required &&
                  user.get('username')?.touched) ||
                (user.get('username')?.errors?.minlength &&
                  user.get('username')?.touched)
              "
            >
              Debe contener mínimo de 5 dígitos
            </div>
          </div>

          <div class="col-12">
            <label for="email" class="form-label">Email</label>
            <input
              id="email"
              class="form-control"
              type="email"
              placeholder="you@example.com"
              formControlName="email"
            />
            <div
              class="form-text text-danger"
              *ngIf="
                user.get('email')?.errors?.required &&
                user.get('email')?.touched
              "
            >
              email es requerido
            </div>
          </div>

          <div class="col-12">
            <label for="address" class="form-label"
              >Dirección <span class="text-muted">(Opcional)</span></label
            >
            <input
              type="text"
              class="form-control"
              id="address"
              placeholder="Ingresa tu dirección"
              formControlName="address"
            />
          </div>
        </div>

        <hr class="my-4" />

        <button
          class="w-100 btn btn-primary btn-lg"
          type="button"
          [disabled]="user.invalid"
          (click)="save()"
        >
          Registrar
        </button>
      </form>

      <p>Form value: {{ user.value | json }}</p>
      <p>Form status: {{ user.valid | json }}</p>
    </div>
  </div>
</div>
